def find_waiting_time(processes, n, bt, wt, at):
    completed = [False] * n
    current_time = 0
    completed_count = 0
    while completed_count < n:
        idx = -1
        shortest_bt = float('inf')
        for i in range(n):
            if not completed[i] and at[i] <= current_time and bt[i] < shortest_bt:
                shortest_bt = bt[i]
                idx = i
        if idx == -1:
            current_time += 1
            continue
        wt[idx] = current_time - at[idx]
        if wt[idx] < 0:
            wt[idx] = 0
        current_time += bt[idx]
        completed[idx] = True
        completed_count += 1

def find_turnaround_time(processes, n, bt, wt, tat):
    for i in range(n):
        tat[i] = bt[i] + wt[i]

def find_avg_time(processes, n, bt, at):
    wt = [0] * n
    tat = [0] * n
    find_waiting_time(processes, n, bt, wt, at)
    find_turnaround_time(processes, n, bt, wt, tat)
    print("Process\tArrival\tBurst\tWaiting\tTurnaround")
    total_wt = 0
    total_tat = 0
    for i in range(n):
        total_wt += wt[i]
        total_tat += tat[i]
        print(f"{processes[i]}\t{at[i]}\t{bt[i]}\t{wt[i]}\t{tat[i]}")
    print(f"\nAverage waiting time = {total_wt / n:.2f}")
    print(f"Average turnaround time = {total_tat / n:.2f}")

if __name__ == "__main__":
    n = int(input("Enter number of processes: "))
    processes = []
    arrival_time = []
    burst_time = []
    for i in range(n):
        processes.append(f"P{i+1}")
        at = int(input(f"Enter arrival time of process {i+1}: "))
        bt = int(input(f"Enter burst time of process {i+1}: "))
        arrival_time.append(at)
        burst_time.append(bt)
    find_avg_time(processes, n, list(burst_time), list(arrival_time))

